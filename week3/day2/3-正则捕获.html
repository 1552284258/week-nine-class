<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <input type="text" id="inp">
    <button id="btn">解析</button>
    <div id="box">这个人的出生年月日是1998年03月09日 性别是男</div>
</body>
</html>
<script>
   
   btn.onclick = function(){
        let str = inp.value;
        let reg = /^\d{6}(\d{4})(\d{2})(\d{2})\d{2}(\d)(\d|X)$/
        let res = reg.exec(str)  
        if(res){
            box.innerHTML = `这个人的出生年月日是${res[1]}年${res[2]}月${res[3]}日  性别是:${res[4]%2 ? '男':'女'}`
        }else{
            alert('身份证不合法')
        }
    }

    
Object.prototype.getType =function(){
    // 一
    // let str = ({}).toString.call(this)
    // let reg = /[a-z]+/ig;
    // reg.test(str);
    // return reg.exec(str).toLowerCase();
    
    // 二
    let str = ({}).toString.call(this)
    let reg = /(\w+)\]$/;
    return reg.exec(str)[1].toLowerCase()

}
''.getType();  //string
[].getType(); //array


    /* 
        匹配  test
        捕获  exec  从字符串中获取 满足 正则的部分 字符


    */

    var reg = /\d+/
    var str = 'hello珠峰2019zf2020'
    var res = reg.exec(str)
    console.log(res);


    //exec  捕获的结果，第一项是大正则捕获到的内容，第二项及以后 是小分组捕获到的内容
    //第二项就是第一个小分组；第三项就是第二个小分组，以此类推
    //若字符串中没有任何符合正则的字符，则获取到的结果就是一个 null 
    var reg = /([a-z]+)(\d+)/
    var str = 'hello珠峰2019zf,2020'
    var res = reg.exec(str)
    console.log(res);


    //正则的贪婪性：一次性会把所有满足正则的字符都捕获到;
    //解决正则的贪婪性，我们用？号
    var reg = /\d+?/
    var str = 'hello珠峰2019zf2020'
    console.log(reg.exec(str));


    //捕获的懒惰性；只捕获一次，不再捕获其他符合正则的字符
    //通过添加全局修饰符 g 解决； 加上 g 之后，每一次捕获是，都会更新 lastIndex 这个属性
    // lastIndex 属性是控制的下一次开始匹配的起始索引；
    // exec 和 test 都会更新 lastIndex 属性
    var reg = /\d+/g
    var str = 'hello珠峰2019zf2020'
    reg.test(str)
    console.log(reg.exec(str));
    // console.log(reg.exec(str));
    // console.log(reg.exec(str));
    // console.log(reg.exec(str));
    

    var reg = /^a/
    var str = 'asdasdasdasd'
</script>